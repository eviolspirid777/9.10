#include <iostream>
#include <math.h>
#define deff
using namespace std;


int main() {
    setlocale(LC_ALL, "rus");
    int arr1x, arr1m, arr2x, arr2m;
    cout << "введите размерность массива 1: ";
    cin >> arr1x;
    cout << " x ";
    cin >> arr1m;
    int** arr1 = new int* [arr1x];       // создаем
                                        // динамический массив
    for (int i = 0; i < arr1x; i++) {
        arr1[i] = new int[arr1m];     // считываем числа в ячейки массива
    }

    cout << "введите размерность массива 2: ";
    cin >> arr2x;
    cout << " x ";
    cin >> arr2m;
    int** arr2 = new int* [arr2x];       // создаем
                                        // динамический массив
    for (int i = 0; i < arr2x; i++) {
        arr2[i] = new int[arr2m];     // считываем числа в ячейки массива
    }

    int sum1 = arr1x * arr1m;                          //кол-во элементов в массиве 1
    int sum2 = arr2x * arr2m;                         //кол-во элементов в массиве  2

    for (int i = 0; i < arr1x; i++) {
        for (int j = 0; j < arr1m; j++) {               //обнуление массива 1
            arr1[i][j] = 0;
        }
    }
    for (int i = 0; i < arr2x; i++) {
        for (int j = 0; j < arr2m; j++) {               //обнуление массива 2
            arr2[i][j] = 0;
        }
    }

    for (int j = 0; j < sum1 / 2; j++) {
        int  randj = rand() % (arr1x / 2);              //присваивает рандомные значения матрице 1
        int randi = rand() % (arr1m / 2);
        arr1[randj][randi] = rand();
    }
    for (int j = 0; j < sum2 / 2; j++) {
        int  randj = rand() % arr1x;             //присваивает рандомные значения матрице 2
        int randi = rand() % arr2m;
        arr2[randj][randi] = rand();
    }
    int Sum = 0;
#ifdef deff
 

    if (arr1m == arr2x) {
        for (int i = 0; i < arr2x; i++) {
            for (int j = 0; j < arr1m; j++) {
                Sum += arr1[i][j] * arr2[j][i];
            }
        }
        for (int i = 0; i < arr1x; i++) {
            for (int j = 0; j < arr1m; j++) {               //вывод массива 1;
                cout << arr1[i][j] << "\t";
            }
            cout << endl;
        }
        cout << "сумма: " << Sum;
    }
    else {
        cout << "fault";
    }
    #endif
}









#include <iostream>
#include <math.h>
#define deff

using namespace std;

//struct deff
//{                               //public
//    short i;              //number of x
//    short j;             //number of m
//    double value;       //value in cluster m x x
//};

int main() {
    setlocale(LC_ALL, "rus");
    int x, m;
    cout << "введите размерность массива 1 (columns x rows): ";
    cin >> x;
    cout << " x ";
    cin >> m;
    int** arr1 = new int* [x];       // создаем
                                        // динамический массив
    for (int i = 0; i < x; i++) {
        arr1[i] = new int[m];     // считываем числа в ячейки массива
    }

    cout << "введите размерность массива 2 (columns x rows): ";
    cin >> x;
    cout << " x ";
    cin >> m;
    int** arr2 = new int* [x];       // создаем
                                        // динамический массив
    for (int i = 0; i < x; i++) {
        arr2[i] = new int[m];     // считываем числа в ячейки массива
    }

    int sum1 = x * m;                          //кол-во элементов в массиве 1

    for (int i = 0; i < x; i++) {
        for (int j = 0; j < m; j++){
            int g = rand() % 100;
            if (g < 20)
                arr1[i][j] = rand() % 500;                //разрежаем матрицу 1
            else
                arr1[i][j] = 0;
        }
    }

    for (int i = 0; i < x; i++) {
        for (int j = 0; j < m; j++) {
            int g = rand() % 100;
            if (g < 20)                                   //разрежаем матрицу 2
                arr2[i][j] = rand() % 500;
            else
                arr2[i][j] = 0;
        }
    }

    int** arrS = new int* [x];       // создаем
                                      // динамический массив СУММЫ S;
    for (int i = 0; i < x; i++) {
        arrS[i] = new int[m];     // считываем числа в ячейки массива
    }

#ifdef deff
    cout << "______________________" << endl << "\t" << "developer table: " << endl;
    int Sum = 0;
        for (int i = 0; i < x; i++) {
            for (int j = 0; j < m; j++) {
                Sum += arr1[i][j] + arr2[i][j];                            //sum of elements
            }
        }
        for (int i = 0; i < x; i++) {
            for (int j = 0; j < m; j++){
                arrS[i][j] = arr1[i][j] + arr2[i][j];               //deff Array of summ numbers
            }
        }

        cout << endl << endl << "array 1 : " << endl << endl;
        for (int i = 0; i < x; i++) {
            for (int j = 0; j < m; j++) {               //вывод массива 1;
                cout << arr1[i][j] << "\t";
            }
            cout << endl;
        }

        cout << endl << endl << "array 2 : " << endl << endl;

        for (int i = 0; i < x; i++) {
            for (int j = 0; j < m; j++) {               //вывод массива 2;
                cout << arr2[i][j] << "\t";
            }
            cout << endl;
        }

        cout << endl << endl << "Summ array: " << endl << endl;

        for (int i = 0; i < x; i++) {
            for (int j = 0; j < m; j++) {
               cout << arrS[i][j] << "\t";               //Array of summ numbers
            }
            cout << endl;
        }
        /*
        deff packed[x][m];
        for (int i = 0; i < x; i++){                          //через цикл нужно внести сначала элементы columns, затем rows, затем 
            packed                                           //значение каждой ячейки, А ПОТОМ ВЫВЕСТИ НА ЭКРАН ЧЕРЕЗ СТРУКТУРУ
        }
        */
        cout << endl << "packed style: " << endl;
        cout << endl << endl << "сумма: " << Sum << endl << endl;
#endif
}








#include <iostream>
#include <math.h>
#define deff
#include<locale>

using namespace std;


int main() {
    setlocale(LC_ALL, "rus");
    int x, m;
    cout << "введите размерность массива 1 (columns x rows): ";
    cin >> x;
    cout << " x ";
    cin >> m;
    int** arr1 = new int* [x];       // создаем
                                        // динамический массив
    for (int i = 0; i < x; i++) {
        arr1[i] = new int[m];     // считываем числа в ячейки массива
    }

    cout << "введите размерность массива 2 (columns x rows): ";
    cin >> x;
    cout << " x ";
    cin >> m;
    int** arr2 = new int* [x];       // создаем
                                        // динамический массив
    for (int i = 0; i < x; i++) {
        arr2[i] = new int[m];     // считываем числа в ячейки массива
    }

    int sum1 = x * m;                          //кол-во элементов в массиве 1

    for (int i = 0; i < x; i++) {
        for (int j = 0; j < m; j++){
            int g = rand() % 100;
            if (g < 20)
                arr1[i][j] = rand() % 500;                //разрежаем матрицу 1
            else
                arr1[i][j] = 0;
        }
    }

    for (int i = 0; i < x; i++) {
        for (int j = 0; j < m; j++) {
            int g = rand() % 100;
            if (g < 20)                                   //разрежаем матрицу 2
                arr2[i][j] = rand() % 500;
            else
                arr2[i][j] = 0;
        }
    }

    int** arrS = new int* [x];       // создаем
                                      // динамический массив СУММЫ S;
    for (int i = 0; i < x; i++) {
        arrS[i] = new int[m];     // считываем числа в ячейки массива
    }

#ifdef deff
    cout << "______________________" << endl << "\t" << "developer table: " << endl;
    int Sum = 0;
        for (int i = 0; i < x; i++) {
            for (int j = 0; j < m; j++) {
                Sum += arr1[i][j] + arr2[i][j];                            //sum of elements
            }
        }
        for (int i = 0; i < x; i++) {
            for (int j = 0; j < m; j++){
                arrS[i][j] = arr1[i][j] + arr2[i][j];               //deff Array of summ numbers
            }
        }

        cout << endl << endl << "array 1 : " << endl << endl;
        for (int i = 0; i < x; i++) {
            for (int j = 0; j < m; j++) {               //вывод массива 1;
                cout << arr1[i][j] << "\t";
            }
            cout << endl;
        }

        cout << endl << endl << "array 2 : " << endl << endl;

        for (int i = 0; i < x; i++) {
            for (int j = 0; j < m; j++) {               //вывод массива 2;
                cout << arr2[i][j] << "\t";
            }
            cout << endl;
        }

        cout << endl << endl << "Summ array: " << endl << endl;

        for (int i = 0; i < x; i++) {
            for (int j = 0; j < m; j++) {
               cout << arrS[i][j] << "\t";               //Array of summ numbers
            }
            cout << endl;
        }


        cout << endl << "packed style: " << endl;
        for (int i = 0; i < x; i++)
        {
            for (int j = 0; j < m; j++)
            {
                if (arrS[i][j] != 0)
                {
                    cout << "\tX(" << i << ")" << " M(" << j << ")" << " value(" << arrS[i][j]<< ")" << endl;
                }
                    
            }
        }

        //cout << endl << "packed style: " << endl;
        //for (int i = 0; i < x; i++)
        //{
        //    for (int j = 0; j < m; j++)
        //    {
        //        if (arr1[i][j] == 0 && arr2[i][j] != 0)
        //        {
        //            cout << "\tX(" << i << ")" << " M(" << j << ")" << " value(" << arr2[i][j] << ")" << endl;
        //        }
        //        else
        //            if(arr1[i][j] != 0 && arr2[i][j] == 0)
        //            {
        //                cout << "\tX(" << i << ")" << " M(" << j << ")" << " value(" << arr1[i][j] << ")" << endl;
        //            }
        //            else
        //                if (arr1[i][j] != 0 && arr2[i][j] != 0)
        //                {
        //                    cout << "\tX(" << i << ")" << " M(" << j << ")" << " value(" << arr1[i][j]+arr2[i][j] << ")" << endl;
        //                }
        //    }
        //}
#endif
}
